### Home
GET http://localhost:8080

### ===========================================
### USER API TESTS
### ===========================================

### 1. Get all users
GET http://localhost:8080/users/api
Cookie: JSESSIONID=EBCBC3B0D42823C290EDA3DA7C3623BF

### 2. Get user by ID (existing user)
GET http://localhost:8080/api/users/3
Cookie: JSESSIONID=26192EC44646CBC2E015938AF8C68352

### 2.1. Change profile visibility of a user 
POST http://localhost:8080/api/users/3/toggle-visibility
Cookie: JSESSIONID=25ADA5AA4D8AFA2B2BDE7918238CB5FE
Content-Type: application/json

{
  "visibility": "FRIENDS"
}
// PRIVATE, PUBLIC, FRIENDS

### 3. Get user by ID (non-existing user)
GET http://localhost:8080/users/999

### 4. Create new user (valid data)
POST http://localhost:8080/api/users/register
Content-Type: application/json

{
  "full_name": "quoc vu",
  "email": "quoc5@gmail.com",
  "password_hash": "123",
  "first_name": "Quang",
  "last_name": "Quang",
  "gender": "male",
  "date_of_birth": "2001-05-10",
  "avatar_url": "https://example.com/avatar.jpg",
  "cover_photo_url": "https://example.com/cover.jpg",
  "bio": "Hello, I am Quang",
  "school_id": "SV23110205",
  "academic_year": "2020-2024",
  "role": "student",
  "phone": "+84-912345678",
  "website": "https://diep.dev",
  "country": "Vietnam",
  "city": "HCMC",
  "education": "HCMUTE",
  "workplace": "Student",
  "facebook_url": "https://facebook.com/diep",
  "instagram_url": "https://instagram.com/diep",
  "linkedin_url": "https://linkedin.com/in/diep",
  "twitter_url": "https://twitter.com/diep"
}

### 5. Create user with minimal data (only required fields)
POST http://localhost:8080/api/users/register
Content-Type: application/json

{
  "full_name": "Vũ Quốc",
  "email": "vuanhquoc0397144200@gmail.com",
  "password_hash": "123456",
  "otp": "814702"
}

### 5.1. Send OTP for user registration
POST http://localhost:8080/api/users/send-otp?email=vuanhquoc0397144200@gmail.com


### 5.2. Forgot password - change password with OTP
POST http://localhost:8080/api/users/forgot-password
Content-Type: application/json

{
  "email": "vuanhquoc0397144200@gmail.com",
  "new_password": "654321",
  "otp": "827182"
}

### 5.2.1. Send OTP for user forgot password
POST http://localhost:8080/api/users/send-otp/forgot-password?email=vuanhquoc0397144200@gmail.com

### 6. Change user Role to "special" (only for admin)
POST http://localhost:8080/api/users/2/upgrade
Cookie: JSESSIONID=802331379BFD2C811EE891322CBEA6F8
Content-Type: application/json

{
  "toRole": "special"
}

### 7. Change user Role to "student" (only for admin)
POST http://localhost:8080/api/users/2/upgrade
Cookie: JSESSIONID=802331379BFD2C811EE891322CBEA6F8
Content-Type: application/json

{
  "toRole": "student"
}


### 8. Update user (valid data)
PUT http://localhost:8080/api/users/1
Content-Type: application/json
Cookie: JSESSIONID=7B641AD77BA60455495CB217C0F8FA9F

{
  "city": "Ho Chi Minh City"
}

### 9. Update user with partial data
PUT http://localhost:8080/api/users/1
Content-Type: application/json
Cookie: JSESSIONID=0414ACA542F693A270B50EC8DA838EB3

{
  "bio": "Just updating bio",
  "avatar_url": "https://example.com/new-avatar.jpg",
  "cover_photo_url": "https://example.com/new-cover.jpg"
}

### 10. GET user by email
GET http://localhost:8080/api/users/find/by-email?email=quoc4@gmail.com
Cookie: JSESSIONID=D0BD83EF6612A67DFF8648F64A538D1F

### 11. Update non-existing user (should fail)
PUT http://localhost:8080/users/999
Content-Type: application/json

{
  "full_name": "Non Existing User"
}

### 12. Delete existing user
DELETE http://localhost:8080/api/users/delete
Content-Type: application/json
Cookie: JSESSIONID=CA48271409CC5E39CB48998526512E68

{
  "email": "vuanhquoc0397144200@gmail.com"
}

### 13. Delete non-existing user (should fail)
DELETE http://localhost:8080/users/999

### ===========================================
### ERROR HANDLING TESTS
### ===========================================

### 14. Test invalid JSON format
POST http://localhost:8080/users
Content-Type: application/json

{
  "full_name": "Invalid JSON",
  "email": "invalid@example.com",
  "password_hash": "password123"
  // Missing closing brace
}

### 15. Test empty request body
POST http://localhost:8080/users
Content-Type: application/json

{}

### 16. Test with null values
POST http://localhost:8080/users
Content-Type: application/json

{
  "full_name": null,
  "email": "null@example.com",
  "password_hash": "password123"
}

### 17. Get user friends count by user ID
GET http://localhost:8080/api/friends/user/2/count
Cookie: JSESSIONID=DCFB8BC721FEFE74EBA1213229778000

### 18. Get user posts count by user ID
GET http://localhost:8080/api/posts/user/2/count
Cookie: JSESSIONID=DCFB8BC721FEFE74EBA1213229778000

### 19. Lấy số lượng user theo role
GET http://localhost:8080/api/users/by-role?role=special
Cookie: JSESSIONID=62F833565CEC5D9771A81190BC39F96F

### 20. Search users by email
GET http://localhost:8080/api/users/search?keyword=v
Cookie: JSESSIONID=BA9D3F8C0A84645B11B64ED3218D08F5