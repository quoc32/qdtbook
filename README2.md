#  QDTBook - Máº¡ng XÃ£ Há»™i TrÆ°á»ng Äáº¡i Há»c 

**Ná»n táº£ng máº¡ng xÃ£ há»™i ná»™i bá»™ dÃ nh riÃªng cho cá»™ng Ä‘á»“ng TrÆ°á»ng Äáº¡i há»c SÆ° pháº¡m Ká»¹ thuáº­t TP.HCM**

---

## ğŸ“– Má»¥c Lá»¥c

- [Giá»›i Thiá»‡u](#-giá»›i-thiá»‡u)
- [CÃ´ng Nghá»‡ Sá»­ Dá»¥ng](#ï¸-cÃ´ng-nghá»‡-sá»­-dá»¥ng)
- [Kiáº¿n TrÃºc Há»‡ Thá»‘ng](#ï¸-kiáº¿n-trÃºc-há»‡-thá»‘ng)
- [Cáº¥u TrÃºc ThÆ° Má»¥c](#-cáº¥u-trÃºc-thÆ°-má»¥c)
- [TÃ­nh NÄƒng Chi Tiáº¿t](#-tÃ­nh-nÄƒng-chi-tiáº¿t)
- [API Documentation](#-api-documentation)
- [CÃ i Äáº·t & Cháº¡y Dá»± Ãn](#ï¸-cÃ i-Ä‘áº·t--cháº¡y-dá»±-Ã¡n)
- [Kiáº¿n Thá»©c Há»c ÄÆ°á»£c](#-kiáº¿n-thá»©c-há»c-Ä‘Æ°á»£c)
- [TÃ¡c Giáº£](#-tÃ¡c-giáº£)

---

## ğŸ¯ Giá»›i Thiá»‡u

**QDTBook** lÃ  má»™t trang web máº¡ng xÃ£ há»™i Ä‘Æ°á»£c thiáº¿t káº¿ dÃ nh riÃªng cho mÃ´i trÆ°á»ng trÆ°á»ng Ä‘áº¡i há»c, giÃºp sinh viÃªn, giáº£ng viÃªn vÃ  cÃ¡n bá»™ káº¿t ná»‘i, chia sáº» thÃ´ng tin vÃ  tÆ°Æ¡ng tÃ¡c vá»›i nhau. Há»‡ thá»‘ng Ä‘Æ°á»£c xÃ¢y dá»±ng vá»›i kiáº¿n trÃºc hiá»‡n Ä‘áº¡i, tÃ­ch há»£p Ä‘áº§y Ä‘á»§ cÃ¡c tÃ­nh nÄƒng cá»§a má»™t máº¡ng xÃ£ há»™i chuyÃªn nghiá»‡p.

### âœ¨ Äiá»ƒm Ná»•i Báº­t

- ğŸ” **XÃ¡c thá»±c Ä‘a dáº¡ng**: Há»— trá»£ Ä‘Äƒng kÃ½/Ä‘Äƒng nháº­p thÃ´ng thÆ°á»ng vÃ  OAuth2 (Google)
- ğŸ’¬ **Nháº¯n tin thá»i gian thá»±c**: Sá»­ dá»¥ng WebSocket Ä‘á»ƒ chat real-time tÆ°Æ¡ng tá»± nhÆ° cÃ¡c ná»n táº£ng máº¡ng xÃ£ há»™i hiá»‡n Ä‘áº¡i nhÆ° facebook, instagram, twitter
- ğŸ“± **Giao diá»‡n hiá»‡n Ä‘áº¡i**: Responsive design vá»›i Thymeleaf + Bootstrap
- ğŸ”’ **Báº£o máº­t cao**: Spring Security vá»›i session management
- ğŸ“ **TÃ­nh nÄƒng Ä‘áº·c biá»‡t**: Máº¡ng xÃ£ há»™i nÃ y tÃ­ch há»£p 1 trang "BÃ i viáº¿t quan trá»ng" cho phÃ©p thÃ´ng bÃ¡o cÃ¡c thÃ´ng tin quan trá»ng nhÆ° thÃ´ng tin Ä‘Äƒng kÃ­ há»c pháº§n, sá»± kiá»‡n quan trá»ng, lá»… tá»‘t nghiá»‡p cho sinh viÃªn, thÃ´ng bÃ¡o vá» cÃ¡c hoáº¡t Ä‘á»™ng cá»§a trÆ°á»ng,...
- ğŸ”” **Há»‡ thá»‘ng thÃ´ng bÃ¡o**: Nháº­n thÃ´ng bÃ¡o vá» lá»i má»i káº¿t báº¡n, bÃ¬nh luáº­n, reaction, tin nháº¯n má»›i vÃ  cÃ¡c hoáº¡t Ä‘á»™ng liÃªn quan
- ğŸ‘¤ **Quáº£n lÃ½ Profile**: Trang cÃ¡ nhÃ¢n vá»›i Ä‘áº§y Ä‘á»§ thÃ´ng tin, chá»‰nh sá»­a profile, upload avatar/cover photo, xem profile ngÆ°á»i khÃ¡c
- ğŸ›’ **Marketplace**: Chá»£ sinh viÃªn Ä‘á»ƒ mua bÃ¡n Ä‘á»“ cÅ©
- ğŸ‘¥ **Quáº£n lÃ½ báº¡n bÃ¨**: Gá»­i lá»i má»i, cháº¥p nháº­n, tá»« chá»‘i, cháº·n
- ğŸ“Š **Admin Dashboard**: Quáº£n lÃ½ ngÆ°á»i dÃ¹ng, bÃ i viáº¿t, bÃ¡o cÃ¡o vi pháº¡m

---

## ğŸ› ï¸ CÃ´ng Nghá»‡ Sá»­ Dá»¥ng

### Backend Framework & Core
- **Spring Boot 4.0.0-M2** 
- **Java 17** 
- **Maven** 

### Database & Persistence
- **MySQL** 
- **Spring Data JPA** 
- **Hibernate** 

### Security & Authentication
- **Spring Security** 
- **OAuth2 Client** 
- **BCrypt** 
- **Session-based Auth** 

### Real-time Communication
- **Spring WebSocket** 

### View Layer & Frontend
- **Thymeleaf** 
- **Bootstrap** 
- **HTML5/CSS3/JavaScript** 

### Additional Libraries
- **Lombok** 
- **Spring Mail** - Gá»­i email (OTP, thÃ´ng bÃ¡o)

---

## ğŸ—ï¸ Kiáº¿n TrÃºc Há»‡ Thá»‘ng

### Kiáº¿n TrÃºc 3 Táº§ng (MVC Pattern)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       PRESENTATION LAYER                â”‚
â”‚  Controllers + Thymeleaf + WebSocket    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         BUSINESS LAYER                  â”‚
â”‚  Services + Business Logic              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        DATA ACCESS LAYER                â”‚
â”‚  Repositories + JPA + MySQL             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ Cáº¥u TrÃºc ThÆ° Má»¥c

```
dqtbook_backend/
â”œâ”€â”€ src/main/java/qdt/hcmute/vn/dqtbook_backend/
â”‚   â”œâ”€â”€ config/              # Cáº¥u hÃ¬nh (Security, WebSocket, CORS)
â”‚   â”œâ”€â”€ controller/          # REST API Controllers
â”‚   â”œâ”€â”€ service/             # Business Logic
â”‚   â”œâ”€â”€ model/               # Entity Classes
â”‚   â”œâ”€â”€ repository/          # Data Access Layer
â”‚   â”œâ”€â”€ dto/                 # Data Transfer Objects
â”‚   â”œâ”€â”€ exception/           # Custom Exceptions
â”‚   â””â”€â”€ enums/               # Enumerations
â”‚
â”œâ”€â”€ src/main/resources/
â”‚   â”œâ”€â”€ application.properties
â”‚   â”œâ”€â”€ static/              # CSS, JS, Images
â”‚   â””â”€â”€ templates/           # Thymeleaf HTML templates
â”‚
â”œâ”€â”€ pom.xml
â””â”€â”€ .env                     # Environment variables
```

---

## ğŸ¨ TÃ­nh NÄƒng Chi Tiáº¿t

### 1. ğŸ” XÃ¡c Thá»±c & PhÃ¢n Quyá»n
- ÄÄƒng kÃ½/ÄÄƒng nháº­p (Email + Password)
- OAuth2 Google Sign-In
- QuÃªn máº­t kháº©u vá»›i OTP qua email
- Session-based authentication
- PhÃ¢n quyá»n: Student, Special, Admin

### 2. ğŸ“ Quáº£n LÃ½ BÃ i Viáº¿t
- Táº¡o bÃ i viáº¿t vá»›i text + media (áº£nh/video)
- BÃ i viáº¿t Ä‘áº·c biá»‡t (Important posts)
- PhÃ¢n quyá»n hiá»ƒn thá»‹: Public, Friends, Private
- Chá»‰nh sá»­a vÃ  xÃ³a bÃ i viáº¿t

### 3. ğŸ‘ TÆ°Æ¡ng TÃ¡c BÃ i Viáº¿t
- **Reactions**: Like, Love, Haha, Wow, Sad, Angry
- **Comments**: BÃ¬nh luáº­n, chá»‰nh sá»­a, xÃ³a
- **Share**: Chia sáº» bÃ i viáº¿t vá»›i text tÃ¹y chá»‰nh

### 4. ğŸ‘¥ Quáº£n LÃ½ Báº¡n BÃ¨
- Gá»­i/Cháº¥p nháº­n/Tá»« chá»‘i lá»i má»i káº¿t báº¡n
- Há»§y káº¿t báº¡n, Cháº·n ngÆ°á»i dÃ¹ng
- Gá»£i Ã½ káº¿t báº¡n 
- Hiá»ƒn thá»‹ tráº¡ng thÃ¡i online

### 5. ğŸ’¬ Nháº¯n Tin Real-time
- Chat 1-1 vÃ  nhÃ³m chat
- Read status (Ä‘Ã£ Ä‘á»c)
- Gá»­i áº£nh trong chat
- Lá»‹ch sá»­ tin nháº¯n
- Nháº¯n tin vá»›i ngÆ°á»i láº¡

### 6. ğŸ”” Há»‡ Thá»‘ng ThÃ´ng BÃ¡o
- Lá»i má»i káº¿t báº¡n
- BÃ¬nh luáº­n, reaction, share
- BÃ i viáº¿t cá»§a báº¡n bÃ¨
- ThÃ´ng bÃ¡o há»‡ thá»‘ng

### 7. ğŸ›’ Marketplace (Chá»£ Sinh ViÃªn)
- ÄÄƒng sáº£n pháº©m bÃ¡n
- TÃ¬m kiáº¿m, lá»c theo giÃ¡, Ä‘á»‹a Ä‘iá»ƒm
- Quáº£n lÃ½ sáº£n pháº©m cá»§a mÃ¬nh

### 8. ğŸ“Š Admin Dashboard
- Quáº£n lÃ½ ngÆ°á»i dÃ¹ng (ban/unban)
- XÃ³a bÃ i viáº¿t vi pháº¡m
- Xem bÃ¡o cÃ¡o tá»« ngÆ°á»i dÃ¹ng
- Thá»‘ng kÃª user trong há»‡ thá»‘ng

---

## ğŸ“¡ API Documentation

### Authentication APIs
```
POST   /api/auth/login              # ÄÄƒng nháº­p
POST   /api/auth/logout             # ÄÄƒng xuáº¥t
GET    /api/auth/me                 # ThÃ´ng tin user hiá»‡n táº¡i
POST   /api/users/register          # ÄÄƒng kÃ½
```

### Post APIs
```
GET    /api/posts                   # Táº¥t cáº£ bÃ i viáº¿t
GET    /api/posts/suitable/{userId} # BÃ i viáº¿t phÃ¹ há»£p
GET    /api/posts/important         # BÃ i viáº¿t quan trá»ng
POST   /api/posts                   # Táº¡o bÃ i viáº¿t
PUT    /api/posts/{id}              # Cáº­p nháº­t
DELETE /api/posts/{id}              # XÃ³a
```

### Interaction APIs
```
POST   /api/posts/{postId}/reactions      # ThÃªm reaction
GET    /api/posts/{postId}/comments       # Láº¥y comments
POST   /api/posts/{postId}/comments       # ThÃªm comment
POST   /api/posts/{postId}/shares         # Chia sáº»
```

### Friend APIs
```
GET    /api/friends/{userId}              # Danh sÃ¡ch báº¡n bÃ¨
POST   /api/friends/request               # Gá»­i lá»i má»i
PUT    /api/friends/accept                # Cháº¥p nháº­n
DELETE /api/friends/unfriend              # Há»§y káº¿t báº¡n
```

### Chat APIs (REST)
```
GET    /api/chats/user/{userId}           # Danh sÃ¡ch chat
GET    /api/chats/{chatId}/messages       # Lá»‹ch sá»­ tin nháº¯n
POST   /api/chats                         # Táº¡o chat má»›i
```

### WebSocket Endpoints
```
/ws                              # WebSocket connection
/app/chat.sendMessage            # Gá»­i tin nháº¯n
/app/chat.typing                 # Typing status
/topic/chat.{chatId}             # Subscribe tin nháº¯n
```

---

## âš™ï¸ CÃ i Äáº·t & Cháº¡y Dá»± Ãn

### 1. YÃªu Cáº§u Há»‡ Thá»‘ng
- Java 17 hoáº·c cao hÆ¡n
- MySQL
- Maven 3.6+
- IDE: IntelliJ IDEA / VS Code

### 2. Clone Dá»± Ãn
```bash
git clone https://github.com/quoc32/qdtbook.git
cd qdtbook/backend/dqtbook_backend
```

### 3. Cáº¥u HÃ¬nh Database
Táº¡o database MySQL:
```sql
CREATE DATABASE spkt_connect CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
```

### 4. Cáº¥u HÃ¬nh Biáº¿n MÃ´i TrÆ°á»ng
Táº¡o file `.env` trong thÆ° má»¥c `backend/dqtbook_backend/`:

```properties
# Database Configuration

DB_HOST=<mysql database url>(vÃ­ dá»¥: jdbc:mysql://localhost:3306/spkt_connect?allowPublicKeyRetrieval=true&useSSL=false&serverTimezone=UTC)

DB_USERNAME=<user_name>

DB_PASSWORD=<Máº­t kháº©u database>

MAIL_USERNAME=<email ÄÄƒng kÃ½ dá»‹ch vá»¥ smtp>

MAIL_PASSWORD=<app_word>

GOOGLE_CLIENT_ID=<gg_client_id>

GOOGLE_CLIENT_SECRET=<gg_client_token>
```

### 5. Cháº¡y á»¨ng Dá»¥ng
```bash
mvn clean install
mvn spring-boot:run
```
### 6. Truy Cáº­p á»¨ng Dá»¥ng
- **URL**: http://localhost:8080
- **Login**: ÄÄƒng kÃ½ tÃ i khoáº£n má»›i hoáº·c dÃ¹ng Google Sign-In

---

## ğŸ“š Kiáº¿n Thá»©c Há»c ÄÆ°á»£c

---
- XÃ¢y dá»±ng RESTful API vá»›i Spring Boot
- XÃ¡c thá»±c & phÃ¢n quyá»n báº±ng Session
- TÆ°Æ¡ng tÃ¡c cÆ¡ sá»Ÿ dá»¯ liá»‡u vá»›i JPA / Hibernate
- Realtime communication (WebSocket)
- Tá»• chá»©c kiáº¿n trÃºc 3 táº§ng: Controller â€“ Service â€“ Repository
---

## ğŸ‘¨â€ğŸ’» TÃ¡c Giáº£

| Há» TÃªn | GitHub | MSSV |
|--------|--------|------|
| **VÅ© Anh Quá»‘c** | [@quoc32](https://github.com/quoc32) | 23110296 |
| **TrÆ°Æ¡ng Quang Äiá»‡p** | [@TruongQuangDiep](https://github.com/TruongQuangDiep) | 23110205 |
| **VÃµ VÄƒn TÃº** | [@anhtudayne](https://github.com/anhtudayne) | 23110359 |

---

## ğŸ“„ License

Dá»± Ã¡n nÃ y Ä‘Æ°á»£c phÃ¡t triá»ƒn cho má»¥c Ä‘Ã­ch há»c táº­p táº¡i TrÆ°á»ng Äáº¡i há»c SÆ° pháº¡m Ká»¹ thuáº­t TP.HCM.

---
